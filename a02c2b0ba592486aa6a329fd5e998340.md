id: a02c2b0ba592486aa6a329fd5e998340
parent_id: 
item_type: 1
item_id: 5ca91af7b7bd4ec6addf5aa07a7244a3
item_updated_time: 1651680530320
title_diff: "[{\"diffs\":[[1,\"Pivoting/Tunneling\\\r\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":19}]"
body_diff: "[{\"diffs\":[[1,\"# Check if your tunnel is active and running:\\\n\\\n- nc -z localhost <port>|| echo 'no tunnel open'</port>\\\n- netstat -lpnt | grep <port>| grep ssh</port>\\\n- ps aux | grep ssh\\\n\\\n# SSH Tunneling\\\n\\\nNote: Target must have SSH running for there service\\\n\\\n1.  Create SSH Tunnel: ssh -D localhost: <local port=\\\"\\\">-f -N user@localhost -p</local>\\\n2.  Setup ProxyChains. Edit the following config file (/etc/proxychains.conf)\\\n3.  Add the following line into the config: Socks5 127.0.0.1\\\n4.  Run commands through the tunnel: proxychains <command></command>\\\n\\\n## SSHuttle\\\n\\\nIn Kali\\\n\\\nSource: https://github.com/sshuttle/sshuttle\\\n\\\n- **sshuttle -r root@172.21.0.0 10.2.2.0/24**\\\n\\\n**![9a4ed4cc714439b900bd1e27106e3577.png](:/8a73940cb76e420788f964c884e16a49)**\\\n\\\n# Meterpreter\\\n\\\nUse only if you have a meterpreter shell and you need to pivot to another network.\\\n\\\n## Portfwd\\\n\\\n- meterpreter > portfwd add -l 80 -r 172.21.0.0 -p 80\\\n\\\n## Autoroute\\\n\\\nIn Metasploit\\\n\\\n1.  use post/multi/manage/autoroute\\\n\\\n```\\\nmsf5 post(multi/manage/autoroute) > options\\\n\\\nModule options (post/multi/manage/autoroute):\\\n\\\n   Name     Current Setting  Required  Description\\\n   ----     ---------------  --------  -----------\\\n   CMD      autoadd          yes       Specify the autoroute command (Accepted: add, autoadd, print, delete, default)\\\n   NETMASK  255.255.255.0    no        Netmask (IPv4 as \\\"255.255.255.0\\\" or CIDR as \\\"/24\\\"\\\n   SESSION                   yes       The session to run this module on.\\\n   SUBNET                    no        Subnet (IPv4, for example, 10.10.10.0)\\\n\\\nmsf5 post(multi/manage/autoroute) > \\\n```\\\n\\\n2.  set session\\\n3.  run\\\n\\\n## Metasploit Socks Proxy\\\n\\\n1 auxiliary/server/socks4a normal No Socks4a Proxy Server\\\n2 auxiliary/server/socks5 normal No Socks5 Proxy Server\\\n3 auxiliary/server/socks_unc normal No SOCKS Proxy UNC Path Redirection\\\n\\\n# Ncat\\\n\\\n## Http Proxy\\\n\\\n- ncat -vv --listen 3128 --proxy-type http\\\n\\\n## Port Forwarder\\\n\\\n1.  mknod pivot p\\\n2.  nc -l -p &lt; port to listen on&gt; 0<pivot | nc <target><pivot-port>1>pivot</pivot-port></target>\\\n\\\n# Cntlm\\\n\\\napt install cntlm\\\n\\\n1.  cntlm -u username@breakme.local -I proxy\\\n2.  export http://127.0.0.1:3128, export https://127.0.0.1:3128\\\n3.  Accessing with browser: chromium --proxy-server=\\\"http://127.0.0.1:3128\\\"\\\n\\\n# netsh port forwarding\\\n\\\n- netsh interface portproxy add v4tov4 listenaddress=127.0.0.1 listenport=9000 connectaddress=192.168.0.10 connectport=80\\\n- netsh interface portproxy delete v4tov4 listenaddress=127.0.0.1 listenport=9000\\\n\\\n# Proxy Binaries for Windows\\\n\\\nWindows 10 has SSH (Thanks WSL!)\\\nplink.exe (In Kali)\\\n\\\n# Other Tools:\\\n\\\n- ssf: https://github.com/securesocketfunneling/ssf\\\n- rpivot: https://github.com/klsecservices/rpivot\\\n- hans (ICMP Tunneling): http://code.gerade.org/hans/\\\n- Iodine (ICMP Tunneling over DNS): https://code.kryo.se/iodine/\\\n- Dnscat2: https://github.com/iagox86/dnscat2\\\n- Chisel: https://github.com/jpillora/chisel\\\n- httptunnel: In Kali apt install httptunnel\\\n- ligolo: https://github.com/sysdream/ligolo\\\n- reGeorg: https://github.com/sensepost/reGeorg\\\n\\\n# Other Resources:\\\n\\\n- https://0xdf.gitlab.io/2019/01/28/pwk-notes-tunneling-update1.html\\\n- https://highon.coffee/blog/ssh-meterpreter-pivoting-techniques/\\\n- https://medium.com/maverislabs/proxyjump-the-ssh-option-you-probably-never-heard-of-2d7e41d43464\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":3262}]"
metadata_diff: {"new":{"id":"5ca91af7b7bd4ec6addf5aa07a7244a3","parent_id":"fa5212f3e7624b48b87153f3e4182dd1","latitude":"0.00000000","longitude":"0.00000000","altitude":"0.0000","author":"","source_url":"","is_todo":0,"todo_due":0,"todo_completed":0,"source":"joplin-desktop","source_application":"net.cozic.joplin-desktop","application_data":"","order":0,"markup_language":1,"is_shared":0,"share_id":"","conflict_original_id":"","master_key_id":""},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2022-05-04T16:09:24.993Z
created_time: 2022-05-04T16:09:24.993Z
type_: 13